<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="mathquill-0.10.1/mathquill.css"/>

    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
</head>
<body>
    <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div class="header-container">
        <header class="wrapper clearfix">
            <h1 class="title"><span class="title-bold">Chemis</span>TK</h1>
            <nav>
                <ul>
                    <li><a href="#">Calculator</a></li>
                    <li><a href="#">Balance</a></li>
                    <li><a href="#">Data</a></li>
                </ul>
            </nav>
        </header>
    </div>

    <div class="main-container">
        <div class="main wrapper clearfix">

            <article>
                <header>
                    <h1>Calculator</h1>
                    <p>Enter an expression below to evaluate it.</p>
                    <p><span id="expr-field"></span></p>
                    <p>  <span id="latex"></span></p>
                    <p>= <span id="result"></span></p>

                </header>
            </article>

            <aside>
                <h3>Keypad</h3>
                <div id="keypad">
                    <div class="key-row">
                    </div>
                    <div class="key-row">
                    </div>
                </div>
            </aside>

        </div> <!-- #main -->
    </div> <!-- #main-container -->

    <div class="footer-container">
        <footer class="wrapper">
            <h3>&copy; Chemis.tk / Alex Yu 2017</h3>
        </footer>
    </div>

    <script src="js/jquery-1.12.4.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

    <script src="js/main.js"></script>
    <script src="js/calculator.js"></script>
	
    <script src="mathquill-0.10.1/mathquill.js"></script>

    <script>
var MQ = MathQuill.getInterface(2);

var exprFieldSpan = document.getElementById('expr-field');
var latexSpan = document.getElementById('latex');

var exprField = MQ.MathField(exprFieldSpan, {
    spaceBehavesLikeTab: true,
    charsThatBreakOutOfSupSub: '+-=<>',
    handlers: {
        edit: function() {
            latexSpan.textContent = exprField.latex();
			try{
				if (exprField.latex().trim() == '') result.textContent = '';
				else result.textContent = calculator.parse(exprField.latex());
			}
			catch (err) {
				result.textContent = 'Your input is invalid.';// + err.message;
			}
        }
    }
});

exprField.latex('\\frac{100.0}{22.4}\\cdot6.02\\cdot10^{23}');
    </script>
</body>
</html>
